{% load static %}
<nav class="navbar navbar-expand-lg navbar-light glass-nav sticky-top">
  <div class="container">
    <a class="navbar-brand d-flex align-items-center" href="{% url 'home' %}">
      <i class="fas fa-blog me-2 brand-icon"></i>
      <span class="fw-bold">BlogHub</span>
    </a>
    
    <button class="navbar-toggler border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
      <span class="navbar-toggler-icon"></span>
    </button>
    
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav ms-auto">
        <!-- Home - Always visible -->
        <li class="nav-item">
          <a class="nav-link nav-link-custom px-3 {% if request.path == '/' %}active{% endif %}" href="{% url 'home' %}">
            <i class="fas fa-home me-1"></i>
            Home
          </a>
        </li>

        <!-- Blogs - Always visible -->
        <li class="nav-item">
          <a class="nav-link nav-link-custom px-3 {% if 'blogs' in request.path %}active{% endif %}" href="{% url 'blogs' %}">
            <i class="fa-solid fa-blog me-1"></i>
            Blogs
          </a>
        </li>

        {% if user.is_authenticated %}
          <!-- Links visible only when logged in -->
          <li class="nav-item">
            <a class="nav-link nav-link-custom px-3 {% if 'createBlog' in request.path %}active{% endif %}" href="{% url 'createBlog' %}">
              <i class="fas fa-pen-fancy me-1"></i>
              Create Blog
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link nav-link-custom px-3 {% if 'manageBlog' in request.path %}active{% endif %}" href="{% url 'manageBlog' %}">
              <i class="fas fa-tasks me-1"></i>
              Manage Blogs
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link nav-link-custom px-3 {% if 'accounts/dashboard' in request.path %}active{% endif %}" href="{% url 'dashboard' %}">
              <i class="fa-solid fa-user me-1"></i>
              Dashboard
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link nav-link-custom px-3" href="{% url 'logout' %}">
              <i class="fa-solid fa-right-from-bracket me-1"></i>
              Logout
            </a>
          </li>

        {% else %}
          <!-- Links visible only when NOT logged in -->
          <li class="nav-item">
            <a class="nav-link nav-link-custom px-3 {% if 'accounts/login' in request.path %}active{% endif %}" href="{% url 'login' %}">
              <i class="fa-solid fa-right-to-bracket me-1"></i>
              Login
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link nav-link-custom px-3 {% if 'accounts/register' in request.path %}active{% endif %}" href="{% url 'register' %}">
              <i class="fa-solid fa-user-plus me-1"></i>
              Register
            </a>
          </li>

        {% endif %}

      </ul>
    </div>
  </div>
</nav>

<style>
  .glass-nav {
    background: rgba(255, 255, 255, 0.75);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    border-bottom: 1px solid rgba(255, 255, 255, 0.3);
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.08);
    border-radius: 0 0 20px 20px;
    padding: 1rem 0;
  }

  .navbar-brand {
    font-size: 1.5rem;
    color: #2c3e50;
    transition: transform 0.3s ease;
  }

  .navbar-brand:hover {
    transform: translateY(-2px);
    color: #3498db;
  }

  .brand-icon {
    font-size: 1.8rem;
    color: #3498db;
  }

  .nav-link-custom {
    color: #555;
    font-weight: 500;
    border-radius: 12px;
    transition: all 0.3s ease;
    position: relative;
    margin: 0 0.25rem;
  }

  .nav-link-custom:hover {
    color: #3498db;
    background: rgba(52, 152, 219, 0.1);
    transform: translateY(-2px);
  }

  .nav-link-custom.active {
    color: #3498db;
    background: rgba(52, 152, 219, 0.2);
    font-weight: 600;
  }

  .nav-link-custom i {
    transition: transform 0.3s ease;
  }

  .nav-link-custom:hover i {
    transform: scale(1.2);
  }

  .navbar-toggler:focus {
    box-shadow: none;
  }
</style>